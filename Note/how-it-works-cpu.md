## ALU는 무엇이고 제어장치는 무엇이고 어디에 있을까
- ALU와 제어장치 모두 CPU안에 있다
- ALU는 계산을 해주는 장치이다
- 제어장치는 제어신호를 발생시키고 명령어를 해석하는 장치이다
- 제어신호는 컴퓨터 부품들을 관리하고 작동 시키기 위한 전기 신호이다

## ALU 받는, 내보내는 정보
- ALU는 레지스터로 부터 피연산자를 받는다
- ALU는 제어장치로부터 제어신호를 받는다
- ALU는 레지스터중 플래그 레지스터에 플래그를 내보낸다
- 플래그란 연산 결과에 대한 부가 정보를 말한다. (부호 플래그, 제로 플래그, 캐리 플래그, 오버플로우 플래그, 인터럽트 플래그, 슈퍼바이저 플래그 등)  
- ALU는 결과값을 레지스터에 담는다.

## 제어장치가 받는, 내보내는 정보
- 제어장치는 플래그 레지스터로부터 플래그 정보는 받는다
- 제어장치는 클럭신호를 받는다
- 클럭은 일정한 주기로 진동하는 전기 신호로, 이를 기준으로 다른 하드웨어 구성 요소들의 작업을 동기화한다. CPU에서는 클럭 신호를 기준으로 명령어를 실행하고, 메모리에서는 클럭 신호를 기준으로 데이터를 읽고 쓰는 등의 작업을 수행한다.
- 클럭의 속도는 Hz 단위로 측정되며, 클럭 속도가 높을수록 컴퓨터는 더 빠르게 동작한다. 클럭 속도는 CPU의 성능에 직접적인 영향을 미치며, 이를 높이는 것은 컴퓨터의 전체적인 성능을 향상시키는 데 중요하다.(높을수록 발열이 심해짐)
- 제어장치는 명령어 레지스터로부터 해석할 명령어를 받는다
- 레지스터에게 제어신호를 내보낸다 (CPU 내부에 전달)
- ALU에게 제어신호를 내보낸다 (CPU 내부에 전달)
- 메모리에게 제어버스를 통해 제어신호를 내보낸다 (CPU 외부에 전달)
- 입출력장치에게 제어버스를 통해 제어신호를 내보낸다  (CPU 외부에 전달)
- 제어 버스로부터 제어신호를 받는다
- 제어 버스(Control Bus)는 컴퓨터에서 CPU와 다른 하드웨어 구성 요소들 간에 제어 정보를 전송하는 데 사용되는 버스(Bus)중 하나입니다.

## 레지스터란 
- 레지스터는 CPU안에 작은 임시저장장치이다
- 프로그램의 명령어, 데이터는 실행 전후로 레지스터에 저장된다
- 레지스터는 여러 종류가 있다

## 레지스터의 종류 (CPU마다 다름)
- 프로그램 카운터: (다음으로 실행할) 메모리에서 가져올 명령어의 주소
- 명령어 레지스터: 해석할 명령어(제어장치가 해석하고 제어신호를 내보낼때 필요)
- 메모리 주소 레지스터: CPU가 읽어 들이고자 하는 주소를 주소 버스로 보낼 때 거치는 레지스터
- 메모리 버퍼 레지스터: CPU가 정보를 데이터 버스로 주고 받을 떄 거치는 레지스터 (명령어와 데이터)
- 플래그 레지스터: 연산 결과 또는 CPU상태에 대한 부가적인 정보
- 범용 레지스터: 다양하고 일반적인 상황에서 자유롭게 사용
- 스택 포인터: 스택 주소 지정방식에 사용 (스택의 꼭대기를 가르킴, 스택이 어디까지 차 있는지에 대한 표시)
- 베이스 레지스터: 특정 레지스터를 이용한 주소 지정 방식에 사용된다
  - 상대 주소 지정 방식: 오퍼랜드 필드의 값(변위)과 프로그램 카운터의 값을 더하여 유효 주소를 얻을 수 있다
  - 베이스 레지스터 주소 지정 방식: 오퍼랜드 필드의 값(변위)과 베이스 레지스터 값을 더하여 유효 주소를 얻을 수 있다
                  
## 명령어 사이클과 인터럽트
- CPU는 메모리안에 있는 프로그램을 정해진 흐름대로 처리한다. 이때 이 흐름을 명령어 사이클이라 한다
- 이 정해진 흐름을 끊는 신호를 인터럽트라고 부른다

## 명령어 사이클
순서대로
1. 인출 사이클
2. 실행 사이클

간접 주소 지정방식 처럼 몇번더 메모리에 접근해야하는 경우
1. 인출 사이클
2. 간접 사이클
3. 실행 사이클

메모리에 접근이 필요하면서 인터럽트가 발생한 경우
1. 인출 사이클
2. 간접 사이클
3. 실행 사이클
4. 인터럽트 사이클

인터럽트만 발생한 경우
1. 인출 사이클
2. 실행 사이클
3. 인터럽트 사이클

## 인터럽트
- 동기 인터럽트(예외): CPU가 예기치 못한 상황을 접했을때 발생
 - 동기 인터럽트에는 폴트, 트랩, 중단, 소프트웨어 인터럽트가 있다
- 비동기 인터럽트(하드웨어 인터럽트): 주로 입출력 장치에 의해 발생 (예시: 알림) 
 - 하드웨어 인터럽트: 입출력 작업 도중에도 효율적으로 명령어를 처리하기 위해 하드웨어 인터럽트 사용
  - 입출력 장치는 CPU에 비해 느리다. 인터럽트가 있다면 입출력 작업 동안 CPU는 다른 일을 할 수 있다

## 하드웨어 인터럽트 처리 순서
1. 입출력장치가 CPU에 인터럽트 요청 신호를 보낸다
2. CPU는 실행 사이클이 끝나고 명령어를 인출하기 전 항상 인터럽트 여부를 확인한다
3. CPU 인터럽트 요청을 확인하고 인터럽트 플래그를 통해 현재 인터럽트를 받아들일 수 있는지 여부를 확인한다
   (만약 받아들일 수 없다면 요청신호가 와도 처리하지 않는다) 
4. 인터럽트를 받아들일 수 있다면 CPU는 지금까지의 작업을 백업한다 (메모리의 스택영역에 백업한다)
5. CPU는 인터럽트 백터를 참조하여 인터럽트 서비스 루틴을 실행한다
6. 인터럽트 서비스 루틴 샐행이 끝나면 4.번에서 백업해둔 작업을 복구하여 실행을 재개한다

- 인터럽트 요청 신호: CPU의 작업을 방해하는 인터럽트에 대한 요청
- 인터럽트 플래그: 인터럽트 요청신호를 받아들일지 무시할지를 결정하는 비트
- 인터럽트 백터: 인터럽트 서비스 루틴의 시작 주소를 포함하는 인터럽트 서비스 루틴의 식별 정보
- 인터럽트 서비스 루틴: 인터럽트를 처리하는 프로그램













































